node_types:

  dice.firewall_rules.Base:
    derived_from: dice.firewall_rules.Unimplemented

  dice.hosts.Custom:
    derived_from: cloudify.flexiant.nodes.Server
    properties:
      auth:
        default:
          username: { get_input: username }
          password: { get_input: password }
          customer: { get_input: customer }
          url: { get_input: service_url }
          verify_ca_cert: False
      agent_key:
        default: { get_input: agent_key }
      vdc:
        default: { get_input: vdc }
      network:
        default: { get_input: network }
      cloudify_agent:
        default:
          user: { get_input: agent_user }

  dice.hosts.Small:
    derived_from: dice.hosts.Custom
    properties:
      image:
        default: { get_input: small_image_id }
      server_type:
        default: { get_input: small_server_type }
      disk:
        default: { get_input: small_disk }

  dice.hosts.Medium:
    derived_from: dice.hosts.Custom
    properties:
      image:
        default: { get_input: medium_image_id }
      server_type:
        default: { get_input: medium_server_type }
      disk:
        default: { get_input: medium_disk }

  dice.hosts.Large:
    derived_from: dice.hosts.Custom
    properties:
      image:
        default: { get_input: large_image_id }
      server_type:
        default: { get_input: large_server_type }
      disk:
        default: { get_input: large_disk }


relationships:

  dice.relationships.ProtectedBy:
    derived_from: dice.relationships.Unimplemented
